<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>文件迁移与去重助手</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="container">
    <h1 class="text-center">文件迁移与去重助手</h1>
    
    <div class="tabs">
      <button class="tab active" data-tab="migrate">迁移文件</button>
      <button class="tab" data-tab="dedupe">文件去重</button>
    </div>
  
  <div id="tab-migrate" class="tab-panel active">
    <div class="card">
      <div class="form-group">
        <label for="srcDir">源目录</label>
        <div class="file-input-container">
          <input type="file" id="srcDir" webkitdirectory class="file-input">
          <label for="srcDir" class="file-input-label">选择文件夹</label>
          <span id="srcMeta" class="file-meta"></span>
        </div>
        <input type="text" id="srcRoot" class="text-input" placeholder="源目录绝对路径（将直接用于脚本）">
      </div>
      
      <div class="form-group">
        <label for="dstDir">目标目录</label>
        <div class="file-input-container">
          <input type="file" id="dstDir" webkitdirectory class="file-input">
          <label for="dstDir" class="file-input-label">选择文件夹</label>
          <span id="dstMeta" class="file-meta"></span>
        </div>
        <input type="text" id="dstRoot" class="text-input" placeholder="目标目录绝对路径（将直接用于脚本）">
      </div>
      
      <div class="actions">
        <button id="btnMigrate" class="primary-btn">开始迁移</button>
        <span id="migrateStatus" class="muted" style="min-width:80px;"></span>
      </div>
    </div>
    
    <div class="result" id="migrateResult"></div>
    
    <div class="script-preview">
      <h3>脚本预览 · 复制（功能一）</h3>
      <p id="migrateCount" class="muted"></p>
      <pre id="migrateScript" class="code-block"># 运行"开始迁移"后显示脚本</pre>
    </div>
  </div>
  
  <div id="tab-dedupe" class="tab-panel">
    <div class="card">
      <div class="form-group">
        <label for="scanDir">扫描目录</label>
        <div class="file-input-container">
          <input type="file" id="scanDir" webkitdirectory class="file-input">
          <label for="scanDir" class="file-input-label">选择文件夹</label>
          <span id="scanMeta" class="file-meta"></span>
        </div>
        <input type="text" id="scanRoot" class="text-input" placeholder="扫描目录绝对路径（将直接用于脚本）">
      </div>
      <div class="form-group">
        <label>扫描设置</label>
        <div style="display:flex; gap:12px; align-items:center; flex-wrap: wrap;">
          <div>
            <input type="number" id="batchSize" class="text-input" min="1" step="1" value="10" style="width:140px;">
            <div class="path-display">分块大小（batch），默认 10</div>
          </div>
        </div>
      </div>
      
      <div class="actions">
        <button id="btnScan" class="primary-btn">开始扫描</button>
        <span id="scanStatus" class="muted" style="min-width:80px;"></span>
      </div>
    </div>
    
    <div class="result" id="dedupeResult"></div>
    
    <div class="script-preview">
      <h3>脚本预览 · 删除重复文件（功能二）</h3>
      <p id="dedupeCount" class="muted"></p>
      <pre id="dedupeScript" class="code-block"># 运行"开始扫描"后显示脚本</pre>
    </div>
  </div>
</div>
  
  <script src="index.js"></script>
</body>
</html>
